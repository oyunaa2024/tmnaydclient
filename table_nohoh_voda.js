const dotenv = require("dotenv");
const dayjs = require("dayjs");
const utc = require("dayjs/plugin/utc");
const { QueryTypes } = require('sequelize');

dotenv.config({ path: "./config/config.env" });
const db_scada = require("./config/db-mssql/scada");

const ids = [
    // '141000004',
    // '141000008',
    // '141000003',
    // '141000007',
    // '141000005',
    // '141000009',
    // '141000012',
    // '141000013',
    // '141000015',

    // '131000003',
    // '131000004',

    // '81000004',
    // '81000003',
    // '81000019',

    // '21000017',
    // '21000018',
    // '21000019',

    // '171000010',
    // '171000011',

    // '151000001',

    // '71000015',
    // '71000016',

    // '131000001',
    // '131000002',

    // '51000005',
    // '51000006',
    // '51000007',

    // '201000004',

    // '41000003',

    // '161000001',
    // '161000002',
    '291000003',
    '291000004',
    '291000007',
    // '100430',
    // '100431',
    // '100432'


];


dayjs.extend(utc);

console.log(dayjs().format("YYYY-MM-DD HH:mm:ss"));

const init = async () => {

    for (let i = 0; i < ids.length; i++) {

        try {
            await db_scada.sequelize.query(`
                exec table_nohoh_vodosnabjenie '${ids[i]}', '2025-02-16 10:01', '2025-02-16 13:59', 1, 1, 'DAY', 'MAI2Archive'
                `
            );

            console.log(ids[i], "success");
        }
        catch (err) {
            console.log(ids[i], "ERROR");
            console.log(err.message);
        }
    }
}


init();


// 1401 141000001
// 1402 141000002
// 1404 '141000004',
// 1408 '141000008',
// 1403 '141000003',
// 1407 '141000007',
// 1405 '141000005',
// 1409 '141000009',
// 1412 '141000012'
// 1413 141000013

// 1303 131000003
// 1304 131000004

// 0804 81000004
// 0803 81000003
// 0819 81000019

// 0217 21000017
// 0218 21000018
// 0219 21000019

// 1710 171000010
// 1711 171000011

// 1415 141000015

// 1501 151000001

// 0715 71000015
// 0716 71000016

// 1301 131000001
// 1302 131000002

// 0505 51000005
// 0506 51000006
// 0507 51000007

// 2004 201000004
// 0403 41000003

// 1601 161000001
// 1602 161000002
